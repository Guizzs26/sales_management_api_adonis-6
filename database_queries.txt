-- Criando o ENUM para o tipo de cliente (PF ou PJ)
CREATE TYPE cliente_tipo AS ENUM ('PF', 'PJ');

CREATE TABLE clientes (
    id SERIAL PRIMARY KEY, -- Chave única do cliente
    nome_completo VARCHAR(255) NOT NULL, -- Nome completo ou razão social
    cpf_cnpj VARCHAR(14) UNIQUE NOT NULL, -- CPF ou CNPJ, validado na aplicação
    email VARCHAR(255) UNIQUE NOT NULL, -- E-mail válido
    telefone VARCHAR(20), -- Telefone (opcional)
    data_nascimento_fundacao DATE, -- Data de nascimento ou fundação
    tipo cliente_tipo NOT NULL, -- Tipo do cliente (PF ou PJ)
    endereco_id INT NOT NULL REFERENCES enderecos(id) ON DELETE CASCADE, -- FK para endereços
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- Data de criação
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- Data de última atualização
);
